#!/bin/sh
from=$1
to=$2
shift
shift
if [ "$to" == "-" ]; then
	to="/dev/tty"
elif [ "$to" == "" ]; then
	to="/dev/tty"
fi
if [ "$from" == "-" ]; then
  from="/dev/stdin"
elif [ "$from" == "" ]; then
  from="/dev/stdin"
fi

exec vim --headless -EsHRXn +"source ~/.vimrc" +"syntax on" +"filetype indent plugin on" $from $@ -c "hardcopy >$to" +q
